<section
  class="relative overflow-hidden bg-cover flex flex-col lg:flex-row max-w-[1800px] mx-auto"
>
  <!-- Hero Content -->
  <div
    class="w-full lg:w-1/2 px-6 md:px-12 py-6 md:py-10 lg:py-16 text-[#00140f] lg:pl-20 flex items-center"
  >
    <div class="flex flex-col max-w-xl mx-auto text-center lg:text-left">
      <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6">
        Build Faster with SantanaCrafted
      </h1>
      <p class="text-base sm:text-lg md:text-xl text-[#003d2e] mb-10">
        Professionally designed Angular templates to help developers and
        churches launch stunning, responsive websites in record time.
      </p>
      <div
        class="flex flex-col sm:flex-row justify-center lg:justify-start gap-4"
      >
        <app-button
          [type]="'link'"
          [borderRadius]="'1rem'"
          [path]="'/templates'"
          class="flex justify-center content-center w-full sm:w-auto"
          [defaultClasses]="'hover:!bg-[#014d3d] transition text-lg'"
          [padding]="'.7rem 1.5rem'"
          [backgroundColor]="'#003d2e'"
          [label]="'Browse Templates' | translate"
        ></app-button>
      </div>
    </div>
  </div>

  <!-- Hero Image -->
  <div
    class="w-full lg:w-1/2 relative h-[400px mobile-se:h-[210px] mobile:h-[250px] minitablet:h-[400px] md:h-[478px] lg:h-[500px]"
  >
    <div
      [style.backgroundImage]="'url(' + backgroundImg + ')'"
      class="absolute inset-0 bg-cover bg-center bg-no-repeat"
    ></div>
  </div>
</section>

<section class="bg-white text-[#00140f]" #videoSection>
  <!-- Feature Section -->
  <div class="bg-[#f3f3f3] pt-10">
    <div class="mx-auto text-center">
      <div class="flex justify-center items-center flex-wrap gap-2">
        <h2
          class="text-2xl sm:text-3xl md:text-4xl font-semibold text-[#003d2e]"
        >
          Why
        </h2>
        <img *ngIf="logoUrl" [src]="logoUrl" alt="Logo" class="w-auto h-10" />
        <h2
          class="text-2xl sm:text-3xl md:text-4xl font-semibold text-[#003d2e]"
        >
          ?
        </h2>
      </div>
      <div class="w-full flex justify-center mt-6">
        <div class="overflow-hidden w-full py-6 max-w-[2000px]">
          <div class="marquee-track flex gap-6 w-max animate-marquee">
            <ng-container *ngFor="let card of cards">
              <div
                class="bg-white/80 backdrop-blur-md p-6 rounded-2xl shadow-sm border border-gray-200 w-80 sm:w-96 transition transform hover:scale-[1.05] hover:shadow-lg duration-300"
              >
                <h3 class="text-xl font-semibold mb-2 text-[#003d2e]">
                  {{ card.title[lang] | translate }}
                </h3>
                <p class="text-gray-700">
                  {{ card.description[lang] | translate }}
                </p>
              </div>
            </ng-container>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section
  class="relative overflow-hidden h-[calc(100vh-82px)] scroll-mt-[160px] px-4 sm:px-6"
>
  <button
    *ngIf="playVideoBtn === 'stopped'"
    (click)="playWithSound()"
    class="absolute top-6 right-6 z-40 bg-white text-[#003d2e] rounded-full p-3 shadow-md hover:bg-gray-100 transition duration-300 group"
    title="Play Video Again"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="w-6 h-6 group-hover:scale-110 transition-transform duration-200"
      fill="currentColor"
      viewBox="0 0 24 24"
    >
      <path d="M8 5v14l11-7z" />
    </svg>
  </button>
  <button
    *ngIf="playVideoBtn === 'playing'"
    (click)="closeVideo()"
    class="absolute top-6 right-6 z-40 bg-white text-[#003d2e] rounded-full p-3 shadow-md hover:bg-gray-100 transition duration-300 group"
    aria-label="Close Video"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="w-6 h-6 group-hover:scale-110 transition-transform duration-200"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M6 18L18 6M6 6l12 12"
      />
    </svg>
  </button>
  <div
    [ngClass]="
      videoEnded || !isVideoInView ? 'opacity-100 z-30' : 'opacity-0 z-10'
    "
    class="absolute inset-0 bg-white flex items-center justify-center transition-all duration-1000 ease-in-out"
  >
    <div class="text-center">
      <h2 class="text-2xl sm:text-3xl font-bold text-[#003d2e]">
        Your Advertisement Here
      </h2>
      <p class="text-base sm:text-lg mt-2 text-gray-600">
        Engaging message or promotion goes here.
      </p>
    </div>
  </div>
  <video
    #myVideo
    [src]="videoUrl"
    muted
    playsinline
    preload="auto"
    class="absolute inset-0 w-full h-full object-cover transition-all duration-1000 ease-in-out"
    [ngClass]="
      isVideoInView && !videoEnded ? 'opacity-100 z-30' : 'opacity-0 z-20'
    "
  ></video>
</section>

<section
  class="bg-[#ddf07182] py-20 px-4 sm:px-6 md:px-12 text-center text-[#00140f]"
>
  <div class="max-w-7xl mx-auto">
    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold mb-6 text-[#003d2e]">
      What Developers Are Saying
    </h2>
    <p class="text-base sm:text-lg text-[#003d2e] mb-12 max-w-2xl mx-auto">
      Hear how SantanaCrafted templates have helped others build faster and
      launch with confidence.
    </p>
    <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
      <ng-container *ngFor="let testimonial of visibleTestimonials">
        <div
          class="bg-white shadow-md rounded-2xl p-6 border border-gray-100 transition hover:shadow-lg"
        >
          <p class="text-gray-700 italic mb-4">“{{ testimonial.quote }}”</p>
          <div class="flex items-center justify-center">
            <div class="text-center">
              <h4 class="font-semibold text-[#003d2e]">
                {{ testimonial.name }}
              </h4>
              <span class="text-sm text-gray-500">{{ testimonial.title }}</span>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
    <div
      class="mt-10 text-center"
      *ngIf="visibleTestimonials.length < testimonials.length"
    >
      <app-button
        (click)="loadMore()"
        [type]="'button'"
        [borderRadius]="'1rem'"
        [path]="'/templates'"
        class="flex justify-center content-center"
        [defaultClasses]="'hover:!bg-[#014d3d] transition text-lg'"
        [padding]="'.7rem 1.5rem'"
        [backgroundColor]="'#003d2e'"
        [label]="'Load More' | translate"
      ></app-button>
    </div>
  </div>
</section>

<section class="bg-white">
  <div
    class="text-gray-800 py-16 px-4 sm:px-6 md:px-12 text-center max-w-[1800px] mx-auto"
  >
    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold mb-4">
      Ready to Build Your Next Website?
    </h2>
    <p class="text-base sm:text-lg mb-8">
      Explore our growing collection of Angular templates designed to help you
      move fast and look great.
    </p>
    <app-button
      [type]="'link'"
      [borderRadius]="'1rem'"
      [path]="'/templates'"
      class="flex justify-center content-center"
      [defaultClasses]="'hover:!bg-[#014d3d] transition text-lg'"
      [padding]="'.7rem 1.5rem'"
      [backgroundColor]="'#003d2e'"
      [label]="'View Templates' | translate"
    ></app-button>
  </div>
</section>
